{"version":3,"file":"shoe.js","sources":["../src/util/backdrop.ts","../src/offcanvas.ts","../src/scrollspy.ts","../src/dropdown.ts","../src/index.umd.ts"],"sourcesContent":["const NAME = \"backdrop\";\n\ntype Config = {\n  className?: string;\n  clickCallback: null | undefined | (() => void);\n};\n\nclass Backdrop {\n  private elem: null | HTMLElement = null;\n\n  private isAppended = false;\n\n  private config;\n\n  constructor(config: Config) {\n    this.config = config;\n  }\n\n  static get NAME() {\n    return NAME;\n  }\n\n  show() {\n    this.append();\n  }\n\n  hide() {\n    this.dispose();\n  }\n\n  dispose() {\n    if (!this.isAppended) {\n      return;\n    }\n    this.elem!.removeEventListener(\"click\", this.handleClick, true);\n    this.elem!.remove();\n    this.isAppended = false;\n  }\n\n  private append() {\n    if (this.isAppended) {\n      return;\n    }\n\n    const elem = this.getElement();\n    document.body.append(elem);\n    elem.addEventListener(\"click\", this.handleClick.bind(this), true);\n\n    this.isAppended = true;\n  }\n\n  private getElement() {\n    if (!this.elem) {\n      const backdrop = document.createElement(\"div\");\n      if (this.config.className) {\n        backdrop.className = this.config.className;\n      }\n      this.elem = backdrop;\n    }\n\n    return this.elem;\n  }\n\n  private handleClick() {\n    if (this.config.clickCallback) {\n      this.config.clickCallback();\n    }\n  }\n}\n\nexport default Backdrop;\n","import Backdrop from \"./util/backdrop\";\n\nconst NAME = \"offcanvas\";\n\ntype Config = {\n  backdrop: boolean;\n  backdropClassName?: string;\n};\n\nconst defaultConfig: Config = {\n  backdrop: true,\n};\n\nclass Offcanvas {\n  private readonly elem;\n\n  private config;\n\n  private backdrop?: Backdrop;\n\n  private readonly oriTransformVal;\n\n  private isShown = false;\n\n  constructor(element: HTMLElement, config?: Config) {\n    this.elem = element;\n    this.config = Object.assign(config || {}, defaultConfig);\n    this.oriTransformVal = this.elem.style.transform;\n    this.backdrop = this.initializeBackDrop();\n  }\n\n  static get NAME() {\n    return NAME;\n  }\n\n  toggle() {\n    return this.isShown ? this.hide() : this.show();\n  }\n\n  show() {\n    this.elem.style.transform = \"none\";\n    this.isShown = true;\n    this.backdrop?.show();\n  }\n\n  hide() {\n    if (!this.isShown) {\n      return;\n    }\n\n    this.elem.style.transform = this.oriTransformVal;\n    this.isShown = false;\n    this.backdrop?.hide();\n  }\n\n  private initializeBackDrop(): undefined | Backdrop {\n    if (!this.config.backdrop) return undefined;\n\n    const clickCallback = () => {\n      this.hide();\n    };\n    return new Backdrop({\n      className: this.config.backdropClassName,\n      clickCallback,\n    });\n  }\n}\n\nexport default Offcanvas;\n","const NAME = \"scrollspy\";\n\ntype Target = {\n  parent: Target | null;\n  element: HTMLElement;\n  offset: number;\n};\n\ntype Config = {\n  activeClassName?: string;\n};\n\nclass Scrollspy {\n  private targets: Target[] = [];\n\n  private scrollElement;\n\n  private activeTarget: null | Target = null;\n\n  private config: Config = {};\n\n  constructor(\n    elements: HTMLElement[],\n    scrollElement: HTMLElement = document.body,\n    config: Config = {}\n  ) {\n    this.scrollElement =\n      scrollElement.tagName === \"BODY\" ? window : scrollElement;\n    this.scrollElement.addEventListener(\"scroll\", () => {\n      this.process();\n    });\n    Object.assign(this.config, config);\n\n    this.refresh(elements);\n    this.process();\n  }\n\n  static get NAME() {\n    return NAME;\n  }\n\n  refresh(elements: HTMLElement[]) {\n    const offsetBase = this.scrollElement === window ? 0 : this.getScrollTop();\n    const targetStack: (Target | null)[] = [];\n    let currTarget: Target | null;\n\n    const getTarget = (elem: HTMLElement): Target | null => {\n      const selector = Scrollspy.getSelector(elem);\n      const trigger = selector\n        ? Scrollspy.find(\n            selector,\n            (this.scrollElement === window\n              ? document.body\n              : this.scrollElement) as HTMLElement\n          )\n        : null;\n      if (!trigger) return null;\n      const triggerBCR = trigger.getBoundingClientRect();\n      return triggerBCR.width || triggerBCR.height\n        ? {\n            parent: targetStack[targetStack.length - 1],\n            element: elem,\n            offset:\n              this.scrollElement === window\n                ? triggerBCR.top + window.pageYOffset + offsetBase\n                : (trigger as HTMLElement).offsetTop + offsetBase,\n          }\n        : null;\n    };\n\n    const parse = (elems: HTMLElement[]) => {\n      if (elems.length === 0 || Array.isArray(elements[0])) {\n        throw new Error(\"Invalid tree structure\");\n      }\n\n      const target = getTarget(elems[0]);\n      if (target !== null) {\n        this.targets.push(target);\n      }\n      currTarget = target;\n      for (let i = 1; i < elems.length; i += 1) {\n        const ele = elems[i];\n        if (Array.isArray(ele)) {\n          targetStack.push(currTarget);\n          parse(ele);\n        } else {\n          const t = getTarget(ele);\n          if (t !== null) {\n            this.targets.push(t);\n          }\n          currTarget = t;\n        }\n      }\n      targetStack.pop();\n    };\n\n    parse(elements);\n    this.targets = this.targets.sort((a, b) => a.offset - b.offset);\n  }\n\n  private getScrollTop() {\n    return this.scrollElement === window\n      ? this.scrollElement.pageYOffset\n      : (this.scrollElement as HTMLElement).scrollTop;\n  }\n\n  private getScrollHeight() {\n    return (\n      (this.scrollElement as HTMLElement).scrollHeight ||\n      Math.max(\n        document.body.scrollHeight,\n        document.documentElement.scrollHeight\n      )\n    );\n  }\n\n  private getOffsetHeight() {\n    return this.scrollElement === window\n      ? window.innerHeight\n      : (this.scrollElement as HTMLElement).getBoundingClientRect().height;\n  }\n\n  private process() {\n    const scrollTop = this.getScrollTop();\n    const scrollHeight = this.getScrollHeight();\n    const maxScroll = scrollHeight - this.getOffsetHeight();\n\n    if (scrollTop >= maxScroll) {\n      const target = this.targets[this.targets.length - 1];\n\n      if (this.activeTarget !== target) {\n        this.activate(target);\n      }\n      return;\n    }\n\n    if (\n      this.activeTarget &&\n      scrollTop < this.targets[0].offset &&\n      this.targets[0].offset > 0\n    ) {\n      this.activeTarget = null;\n      this.clear();\n      return;\n    }\n\n    for (let i = 0; i < this.targets.length; i += 1) {\n      const isActiveTarget =\n        this.activeTarget !== this.targets[i] &&\n        scrollTop >= this.targets[i].offset &&\n        (typeof this.targets[i + 1] === \"undefined\" ||\n          scrollTop < this.targets[i + 1].offset);\n\n      if (isActiveTarget) {\n        this.activate(this.targets[i]);\n      }\n    }\n  }\n\n  private activate(target: Target) {\n    this.activeTarget = target;\n    this.clear();\n\n    if (this.config.activeClassName) {\n      const tokens = this.config.activeClassName.split(\" \");\n      this.activeTarget.element.classList.add(...tokens);\n      let { parent } = target;\n      while (parent) {\n        parent.element.classList.add(...tokens);\n        parent = parent.parent;\n      }\n    }\n  }\n\n  private clear() {\n    if (this.config.activeClassName) {\n      const tokens = this.config.activeClassName.split(\" \");\n      this.targets.forEach((target) =>\n        target.element.classList.remove(...tokens)\n      );\n    }\n  }\n\n  private static getSelector(ele: HTMLElement): null | string {\n    let selector = null;\n    let hrefAttr = ele.getAttribute(\"href\");\n    if (!hrefAttr || (!hrefAttr.includes(\"#\") && !hrefAttr.startsWith(\".\"))) {\n      return null;\n    }\n\n    if (hrefAttr.includes(\"#\") && !hrefAttr.startsWith(\"#\")) {\n      hrefAttr = `#${hrefAttr.split(\"#\")[1]}`;\n    }\n\n    selector = hrefAttr && hrefAttr !== \"#\" ? hrefAttr.trim() : null;\n    return selector;\n  }\n\n  private static find(selector: string, element: HTMLElement = document.body) {\n    return Element.prototype.querySelector.call(element, selector);\n  }\n}\n\nexport default Scrollspy;\n","import * as Popper from \"@popperjs/core\";\n\nconst NAME = \"dropdown\";\n\ntype Config = {\n  placement: \"top\" | \"right\" | \"bottom\" | \"left\";\n};\n\nconst DefaultConfig: Config = {\n  placement: \"bottom\",\n};\n\nclass Dropdown {\n  private targetElem: HTMLElement;\n\n  private triggerElem: HTMLElement;\n\n  private isShown = false;\n\n  private popper: any = null;\n\n  private config: Config;\n\n  constructor(\n    triggerElement: HTMLElement,\n    targetElement: HTMLElement,\n    config?: Config\n  ) {\n    this.targetElem = targetElement;\n    this.triggerElem = triggerElement;\n    this.config = { ...DefaultConfig, ...(config || {}) };\n    this.triggerElem.addEventListener(\"click\", () => {\n      this.toggle();\n    });\n  }\n\n  static get NAME() {\n    return NAME;\n  }\n\n  private handleClickOutside(ev: MouseEvent): any {\n    const clickedElem = ev.target as Node;\n    if (\n      clickedElem !== this.targetElem &&\n      !this.targetElem.contains(clickedElem) &&\n      !this.triggerElem.contains(clickedElem) &&\n      this.isShown\n    ) {\n      this.hide();\n    }\n    document.body.removeEventListener(\"click\", this.handleClickOutside, true);\n  }\n\n  toggle() {\n    if (this.isShown) {\n      this.hide();\n      document.body.removeEventListener(\"click\", this.handleClickOutside, true);\n    } else {\n      this.show();\n    }\n  }\n\n  show() {\n    this.targetElem.style.display = \"block\";\n\n    document.body.addEventListener(\n      \"click\",\n      (ev) => {\n        this.handleClickOutside(ev);\n      },\n      true\n    );\n\n    this.popper = Popper.createPopper(this.triggerElem, this.targetElem, {\n      placement: this.config.placement,\n      modifiers: [\n        {\n          name: \"offset\",\n          options: {\n            offset: [0, 10],\n          },\n        },\n      ],\n    });\n\n    this.popper.update();\n    this.isShown = true;\n  }\n\n  hide() {\n    this.targetElem.style.display = \"none\";\n    if (this.popper) {\n      this.popper.destroy();\n    }\n    this.isShown = false;\n  }\n}\n\nexport default Dropdown;\n","import Offcanvas from \"./offcanvas\";\nimport Scrollspy from \"./scrollspy\";\nimport Dropdown from \"./dropdown\";\n\nexport default {\n  Offcanvas,\n  Scrollspy,\n  Dropdown,\n};\n"],"names":["NAME","Popper"],"mappings":"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"}