{"version":3,"file":"shoe.esm.js","sources":["../src/util/backdrop.ts","../src/offcanvas.ts","../src/dropdown.ts","../src/scrollspy.ts"],"sourcesContent":["const NAME = \"backdrop\";\n\ntype Config = {\n  className?: string;\n  clickCallback: null | undefined | (() => void);\n};\n\nclass Backdrop {\n  private elem: null | HTMLElement = null;\n\n  private isAppended = false;\n\n  private config;\n\n  constructor(config: Config) {\n    this.config = config;\n  }\n\n  static get NAME() {\n    return NAME;\n  }\n\n  show() {\n    this.append();\n  }\n\n  hide() {\n    this.dispose();\n  }\n\n  dispose() {\n    if (!this.isAppended) {\n      return;\n    }\n    this.elem!.removeEventListener(\"click\", this.handleClick, true);\n    this.elem!.remove();\n    this.isAppended = false;\n  }\n\n  private append() {\n    if (this.isAppended) {\n      return;\n    }\n\n    const elem = this.getElement();\n    document.body.append(elem);\n    elem.addEventListener(\"click\", this.handleClick.bind(this), true);\n\n    this.isAppended = true;\n  }\n\n  private getElement() {\n    if (!this.elem) {\n      const backdrop = document.createElement(\"div\");\n      if (this.config.className) {\n        backdrop.className = this.config.className;\n      }\n      this.elem = backdrop;\n    }\n\n    return this.elem;\n  }\n\n  private handleClick() {\n    if (this.config.clickCallback) {\n      this.config.clickCallback();\n    }\n  }\n}\n\nexport default Backdrop;\n","import Backdrop from \"./util/backdrop\";\n\nconst NAME = \"offcanvas\";\n\ntype Config = {\n  backdrop: boolean;\n  backdropClassName?: string;\n};\n\nconst defaultConfig: Config = {\n  backdrop: true,\n};\n\nclass Offcanvas {\n  private readonly elem;\n\n  private config;\n\n  private backdrop?: Backdrop;\n\n  private readonly oriTransformVal;\n\n  private isShown = false;\n\n  constructor(element: HTMLElement, config?: Config) {\n    this.elem = element;\n    this.config = Object.assign(config || {}, defaultConfig);\n    this.oriTransformVal = this.elem.style.transform;\n    this.backdrop = this.initializeBackDrop();\n  }\n\n  static get NAME() {\n    return NAME;\n  }\n\n  toggle() {\n    return this.isShown ? this.hide() : this.show();\n  }\n\n  show() {\n    this.elem.style.transform = \"none\";\n    this.isShown = true;\n    this.backdrop?.show();\n  }\n\n  hide() {\n    if (!this.isShown) {\n      return;\n    }\n\n    this.elem.style.transform = this.oriTransformVal;\n    this.isShown = false;\n    this.backdrop?.hide();\n  }\n\n  private initializeBackDrop(): undefined | Backdrop {\n    if (!this.config.backdrop) return undefined;\n\n    const clickCallback = () => {\n      this.hide();\n    };\n    return new Backdrop({\n      className: this.config.backdropClassName,\n      clickCallback,\n    });\n  }\n}\n\nexport default Offcanvas;\n","import * as Popper from \"@popperjs/core\";\n\nconst NAME = \"dropdown\";\n\ntype Config = {\n  placement: \"top\" | \"right\" | \"bottom\" | \"left\";\n};\n\nconst DefaultConfig: Config = {\n  placement: \"bottom\",\n};\n\nclass Dropdown {\n  private targetElem: HTMLElement;\n\n  private triggerElem: HTMLElement;\n\n  private isShown = false;\n\n  private popper: any = null;\n\n  private config: Config;\n\n  constructor(\n    triggerElement: HTMLElement,\n    targetElement: HTMLElement,\n    config?: Config\n  ) {\n    this.targetElem = targetElement;\n    this.triggerElem = triggerElement;\n    this.config = { ...DefaultConfig, ...(config || {}) };\n    this.triggerElem.addEventListener(\"click\", () => {\n      this.toggle();\n    });\n  }\n\n  static get NAME() {\n    return NAME;\n  }\n\n  private handleClickOutside(ev: MouseEvent): any {\n    const clickedElem = ev.target as Node;\n    if (\n      clickedElem !== this.targetElem &&\n      !this.targetElem.contains(clickedElem) &&\n      !this.triggerElem.contains(clickedElem) &&\n      this.isShown\n    ) {\n      this.hide();\n    }\n    document.body.removeEventListener(\"click\", this.handleClickOutside, true);\n  }\n\n  toggle() {\n    if (this.isShown) {\n      this.hide();\n      document.body.removeEventListener(\"click\", this.handleClickOutside, true);\n    } else {\n      this.show();\n    }\n  }\n\n  show() {\n    this.targetElem.style.display = \"block\";\n\n    document.body.addEventListener(\n      \"click\",\n      (ev) => {\n        this.handleClickOutside(ev);\n      },\n      true\n    );\n\n    this.popper = Popper.createPopper(this.triggerElem, this.targetElem, {\n      placement: this.config.placement,\n      modifiers: [\n        {\n          name: \"offset\",\n          options: {\n            offset: [0, 10],\n          },\n        },\n      ],\n    });\n\n    this.popper.update();\n    this.isShown = true;\n  }\n\n  hide() {\n    this.targetElem.style.display = \"none\";\n    if (this.popper) {\n      this.popper.destroy();\n    }\n    this.isShown = false;\n  }\n}\n\nexport default Dropdown;\n","const NAME = \"scrollspy\";\n\ntype Target = {\n  parent: Target | null;\n  element: HTMLElement;\n  offset: number;\n};\n\ntype Config = {\n  activeClassName?: string;\n};\n\nclass Scrollspy {\n  private targets: Target[] = [];\n\n  private scrollElement;\n\n  private activeTarget: null | Target = null;\n\n  private config: Config = {};\n\n  constructor(\n    elements: HTMLElement[],\n    scrollElement: HTMLElement = document.body,\n    config: Config = {}\n  ) {\n    this.scrollElement =\n      scrollElement.tagName === \"BODY\" ? window : scrollElement;\n    this.scrollElement.addEventListener(\"scroll\", () => {\n      this.process();\n    });\n    Object.assign(this.config, config);\n\n    this.refresh(elements);\n    this.process();\n  }\n\n  static get NAME() {\n    return NAME;\n  }\n\n  refresh(elements: HTMLElement[]) {\n    const offsetBase = this.scrollElement === window ? 0 : this.getScrollTop();\n    const targetStack: (Target | null)[] = [];\n    let currTarget: Target | null;\n\n    const getTarget = (elem: HTMLElement): Target | null => {\n      const selector = Scrollspy.getSelector(elem);\n      const trigger = selector\n        ? Scrollspy.find(\n            selector,\n            (this.scrollElement === window\n              ? document.body\n              : this.scrollElement) as HTMLElement\n          )\n        : null;\n      if (!trigger) return null;\n      const triggerBCR = trigger.getBoundingClientRect();\n      return triggerBCR.width || triggerBCR.height\n        ? {\n            parent: targetStack[targetStack.length - 1],\n            element: elem,\n            offset:\n              this.scrollElement === window\n                ? triggerBCR.top + window.pageYOffset + offsetBase\n                : (trigger as HTMLElement).offsetTop + offsetBase,\n          }\n        : null;\n    };\n\n    const parse = (elems: HTMLElement[]) => {\n      if (elems.length === 0 || Array.isArray(elements[0])) {\n        throw new Error(\"Invalid tree structure\");\n      }\n\n      const target = getTarget(elems[0]);\n      if (target !== null) {\n        this.targets.push(target);\n      }\n      currTarget = target;\n      for (let i = 1; i < elems.length; i += 1) {\n        const ele = elems[i];\n        if (Array.isArray(ele)) {\n          targetStack.push(currTarget);\n          parse(ele);\n        } else {\n          const t = getTarget(ele);\n          if (t !== null) {\n            this.targets.push(t);\n          }\n          currTarget = t;\n        }\n      }\n      targetStack.pop();\n    };\n\n    parse(elements);\n    this.targets = this.targets.sort((a, b) => a.offset - b.offset);\n  }\n\n  private getScrollTop() {\n    return this.scrollElement === window\n      ? this.scrollElement.pageYOffset\n      : (this.scrollElement as HTMLElement).scrollTop;\n  }\n\n  private getScrollHeight() {\n    return (\n      (this.scrollElement as HTMLElement).scrollHeight ||\n      Math.max(\n        document.body.scrollHeight,\n        document.documentElement.scrollHeight\n      )\n    );\n  }\n\n  private getOffsetHeight() {\n    return this.scrollElement === window\n      ? window.innerHeight\n      : (this.scrollElement as HTMLElement).getBoundingClientRect().height;\n  }\n\n  private process() {\n    const scrollTop = this.getScrollTop();\n    const scrollHeight = this.getScrollHeight();\n    const maxScroll = scrollHeight - this.getOffsetHeight();\n\n    if (scrollTop >= maxScroll) {\n      const target = this.targets[this.targets.length - 1];\n\n      if (this.activeTarget !== target) {\n        this.activate(target);\n      }\n      return;\n    }\n\n    if (\n      this.activeTarget &&\n      scrollTop < this.targets[0].offset &&\n      this.targets[0].offset > 0\n    ) {\n      this.activeTarget = null;\n      this.clear();\n      return;\n    }\n\n    for (let i = 0; i < this.targets.length; i += 1) {\n      const isActiveTarget =\n        this.activeTarget !== this.targets[i] &&\n        scrollTop >= this.targets[i].offset &&\n        (typeof this.targets[i + 1] === \"undefined\" ||\n          scrollTop < this.targets[i + 1].offset);\n\n      if (isActiveTarget) {\n        this.activate(this.targets[i]);\n      }\n    }\n  }\n\n  private activate(target: Target) {\n    this.activeTarget = target;\n    this.clear();\n\n    if (this.config.activeClassName) {\n      const tokens = this.config.activeClassName.split(\" \");\n      this.activeTarget.element.classList.add(...tokens);\n      let { parent } = target;\n      while (parent) {\n        parent.element.classList.add(...tokens);\n        parent = parent.parent;\n      }\n    }\n  }\n\n  private clear() {\n    if (this.config.activeClassName) {\n      const tokens = this.config.activeClassName.split(\" \");\n      this.targets.forEach((target) =>\n        target.element.classList.remove(...tokens)\n      );\n    }\n  }\n\n  private static getSelector(ele: HTMLElement): null | string {\n    let selector = null;\n    let hrefAttr = ele.getAttribute(\"href\");\n    if (!hrefAttr || (!hrefAttr.includes(\"#\") && !hrefAttr.startsWith(\".\"))) {\n      return null;\n    }\n\n    if (hrefAttr.includes(\"#\") && !hrefAttr.startsWith(\"#\")) {\n      hrefAttr = `#${hrefAttr.split(\"#\")[1]}`;\n    }\n\n    selector = hrefAttr && hrefAttr !== \"#\" ? hrefAttr.trim() : null;\n    return selector;\n  }\n\n  private static find(selector: string, element: HTMLElement = document.body) {\n    return Element.prototype.querySelector.call(element, selector);\n  }\n}\n\nexport default Scrollspy;\n"],"names":["NAME"],"mappings":"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"}