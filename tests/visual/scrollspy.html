<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="./visual.css" rel="stylesheet" />
    <title>Scrollspy</title>
  </head>
  <body style="max-height: 100vh; overflow: scroll">
    <div class="container mx-auto">
      <h1>Scrollspy <small>B00 Visual Test</small></h1>
      <div>
        <div class="mr-[30rem] px-[15rem]" id="article">
          <h2 id="item-1">Item 1</h2>
          <p>
            This is some placeholder content for the scrollspy page. Note that
            as you scroll down the page, the appropriate navigation link is
            highlighted. It's repeated throughout the component example. We keep
            adding some more example copy here to emphasize the scrolling and
            highlighting.
          </p>
          <h3 id="item-1-1">Item 1.1</h3>
          <p>
            This is some placeholder content for the scrollspy page. Note that
            as you scroll down the page, the appropriate navigation link is
            highlighted. It's repeated throughout the component example. We keep
            adding some more example copy here to emphasize the scrolling and
            highlighting.
          </p>
          <h3 id="item-1-2">Item 1.2</h3>
          <p>
            This is some placeholder content for the scrollspy page. Note that
            as you scroll down the page, the appropriate navigation link is
            highlighted. It's repeated throughout the component example. We keep
            adding some more example copy here to emphasize the scrolling and
            highlighting.
          </p>
          <h4 id="item-1-2-1">Item 1.2.1</h4>
          <p>
            This is some placeholder content for the scrollspy page. Note that
            as you scroll down the page, the appropriate navigation link is
            highlighted. It's repeated throughout the component example. We keep
            adding some more example copy here to emphasize the scrolling and
            highlighting.
          </p>
          <h4 id="item-1-2-2">Item 1.2.2</h4>
          <p>
            This is some placeholder content for the scrollspy page. Note that
            as you scroll down the page, the appropriate navigation link is
            highlighted. It's repeated throughout the component example. We keep
            adding some more example copy here to emphasize the scrolling and
            highlighting.
          </p>
          <h2 id="item-2">Item 2</h2>
          <p>
            This is some placeholder content for the scrollspy page. Note that
            as you scroll down the page, the appropriate navigation link is
            highlighted. It's repeated throughout the component example. We keep
            adding some more example copy here to emphasize the scrolling and
            highlighting.
          </p>
          <h2 id="item-3">Item 3</h2>
          <p>
            This is some placeholder content for the scrollspy page. Note that
            as you scroll down the page, the appropriate navigation link is
            highlighted. It's repeated throughout the component example. We keep
            adding some more example copy here to emphasize the scrolling and
            highlighting.
          </p>
          <h2 id="item-4">Item 4</h2>
          <p>
            This is some placeholder content for the scrollspy page. Note that
            as you scroll down the page, the appropriate navigation link is
            highlighted. It's repeated throughout the component example. We keep
            adding some more example copy here to emphasize the scrolling and
            highlighting.
          </p>
          <h3 id="item-4-1">Item 4.1</h3>
          <p>
            This is some placeholder content for the scrollspy page. Note that
            as you scroll down the page, the appropriate navigation link is
            highlighted. It's repeated throughout the component example. We keep
            adding some more example copy here to emphasize the scrolling and
            highlighting.
          </p>
          <h4 id="item-4-1-1">Item 4.1.1</h4>
          <p>
            This is some placeholder content for the scrollspy page. Note that
            as you scroll down the page, the appropriate navigation link is
            highlighted. It's repeated throughout the component example. We keep
            adding some more example copy here to emphasize the scrolling and
            highlighting.
          </p>
          <h4 id="item-4-1-2">Item 4.1.2</h4>
          <p>
            This is some placeholder content for the scrollspy page. Note that
            as you scroll down the page, the appropriate navigation link is
            highlighted. It's repeated throughout the component example. We keep
            adding some more example copy here to emphasize the scrolling and
            highlighting.
          </p>
          <h5 id="item-4-1-2-1">Item 4.1.2.1</h5>
          <p>
            This is some placeholder content for the scrollspy page. Note that
            as you scroll down the page, the appropriate navigation link is
            highlighted. It's repeated throughout the component example. We keep
            adding some more example copy here to emphasize the scrolling and
            highlighting.
          </p>
          <h2 id="item-5">Item5</h2>
          <p>
            This is some placeholder content for the scrollspy page. Note that
            as you scroll down the page, the appropriate navigation link is
            highlighted. It's repeated throughout the component example. We keep
            adding some more example copy here to emphasize the scrolling and
            highlighting.
          </p>
          <h2 id="item-6">Item 6</h2>
          <p>
            This is some placeholder content for the scrollspy page. Note that
            as you scroll down the page, the appropriate navigation link is
            highlighted. It's repeated throughout the component example. We keep
            adding some more example copy here to emphasize the scrolling and
            highlighting.
          </p>
          <h2 id="item-7">Item 7</h2>
          <p>
            This is some placeholder content for the scrollspy page. Note that
            as you scroll down the page, the appropriate navigation link is
            highlighted. It's repeated throughout the component example. We keep
            adding some more example copy here to emphasize the scrolling and
            highlighting.
          </p>

          <div class="flex">
            <div class="basis-1/4">
              <ul id="menu2">
                <li><a href="#item-1">item1</a></li>
                <li>
                  <a href="#item-2">item2</a>
                  <ul>
                    <li>
                      <a href="#item-2-1">item2-1</a>
                    </li>
                    <li>
                      <a href="#item-2-2">item2-2</a>
                    </li>
                  </ul>
                </li>
                <li><a href="#item-3">item3</a></li>
                <li><a href="#item-4">item4</a></li>
              </ul>
            </div>

            <div
              class="basis-3/4 h-40 overflow-y-scroll relative"
              id="article2"
            >
              <h4 id="item-1">Item 1</h4>
              <p>
                This is some placeholder content for the scrollspy page. Note
                that as you scroll down the page, the appropriate navigation
                link is highlighted. It's repeated throughout the component
                example. We keep adding some more example copy here to emphasize
                the scrolling and highlighting.
              </p>
              <h4 id="item-2">Item 2</h4>
              <p>
                This is some placeholder content for the scrollspy page. Note
                that as you scroll down the page, the appropriate navigation
                link is highlighted. It's repeated throughout the component
                example. We keep adding some more example copy here to emphasize
                the scrolling and highlighting.
              </p>
              <h4 id="item-2-1">Item 2-1</h4>
              <p>
                This is some placeholder content for the scrollspy page. Note
                that as you scroll down the page, the appropriate navigation
                link is highlighted. It's repeated throughout the component
                example. We keep adding some more example copy here to emphasize
                the scrolling and highlighting.
              </p>
              <h4 id="item-2-2">Item 2-2</h4>
              <p>
                This is some placeholder content for the scrollspy page. Note
                that as you scroll down the page, the appropriate navigation
                link is highlighted. It's repeated throughout the component
                example. We keep adding some more example copy here to emphasize
                the scrolling and highlighting.
              </p>
              <h4 id="item-3">Item 3</h4>
              <p>
                This is some placeholder content for the scrollspy page. Note
                that as you scroll down the page, the appropriate navigation
                link is highlighted. It's repeated throughout the component
                example. We keep adding some more example copy here to emphasize
                the scrolling and highlighting.
              </p>
              <h4 id="item-4">Item 4</h4>
              <p>
                This is some placeholder content for the scrollspy page. Note
                that as you scroll down the page, the appropriate navigation
                link is highlighted. It's repeated throughout the component
                example. We keep adding some more example copy here to emphasize
                the scrolling and highlighting.
              </p>
            </div>
          </div>
        </div>
        <div class="fixed top-0 right-[10rem]">
          <ul id="menu">
            <li>
              <a href="#item-1">item 1</a>
              <ul>
                <li>
                  <a href="#item-1-1">item 1.1</a>
                </li>
                <li>
                  <a href="#item-1-2">item 1.2</a>
                  <ul>
                    <li>
                      <a href="#item-1-2-1">item 1.2.1</a>
                    </li>
                    <li>
                      <a href="#item-1-2-2">item 1.2.2</a>
                    </li>
                  </ul>
                </li>
              </ul>
            </li>
            <li>
              <a href="#item-2">item 2</a>
            </li>
            <li><a href="#item-3">item 3</a></li>
            <li>
              <a href="#item-4">item 4</a>
              <ul>
                <li>
                  <a href="#item-4-1">item 4.1</a>
                  <ul>
                    <li>
                      <a href="#item-4-1-1">item 4.1.1</a>
                    </li>
                    <li>
                      <a href="#item-4-1-2">item 4.1.2</a>
                      <ul>
                        <li>
                          <a href="#item-4-1-2-1">item 4.1.2.1</a>
                        </li>
                      </ul>
                    </li>
                  </ul>
                </li>
              </ul>
            </li>
            <li><a href="#item-5">item 5</a></li>
            <li><a href="#item-6">item 6</a></li>
            <li><a href="#item-7">item 7</a></li>
          </ul>
        </div>
      </div>
    </div>

    <script src="../../dist/index.js"></script>
    <script>
      (function () {
        function appendChildren(root, children) {
          return [].filter
            .call(root.children, (el) => el.nodeName === "LI")
            .forEach((liElem) => {
              const aElem = liElem.querySelector(":scope > a");
              children.push(aElem);
              const ulElem = liElem.querySelector(":scope > ul");
              if (ulElem) {
                const nextElements = [];
                children.push(nextElements);
                appendChildren(ulElem, nextElements);
              }
            });
        }
        const tree = [];
        appendChildren(menu, tree);
        new shoe.Scrollspy(tree, document.body, {
          activeClassName: "text-red-800",
        });

        window.addEventListener("scroll", () => {
          console.log("aaa");
        });
      })();

      (function () {
        const menu = document.getElementById("menu2");

        function appendChildren(root, children) {
          return [].filter
            .call(root.children, (el) => el.nodeName === "LI")
            .forEach((liElem) => {
              const aElem = liElem.querySelector(":scope > a");
              children.push(aElem);
              const ulElem = liElem.querySelector(":scope > ul");
              if (ulElem) {
                const nextElements = [];
                children.push(nextElements);
                appendChildren(ulElem, nextElements);
              }
            });
        }
        const tree = [];
        appendChildren(menu, tree);
        new shoe.Scrollspy(tree, document.getElementById("article2"), {
          activeClassName: "text-red-800",
        });
      })();
    </script>
  </body>
</html>
